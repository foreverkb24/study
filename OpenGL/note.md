##OpenGL学习笔记

最近在做计算机图形学的大作业，需要用到OpenGL的知识，这几天大概了解了一下用`C++`开发`OpenGL`程序，接下来会把最近学到的一些东西和遇到的问题记录在这里，方便以后查阅!

参考资料：[OpenGL入门学习][1] 别人推荐的，感觉写的挺不错的！

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[NeHeOpenGL中文教程][2] `OpenGL`经典教程的中文版,同样写的很好，最近都是再看这两份参考资料!


[1]:http://www.cppblog.com/doing5552/archive/2009/01/08/71532.html/  "赞一个"
[2]:http://www.yakergong.net/nehe/   "赞一个"

编(tu)译(cao)环(yi)境(xia)：VS2013，因为之前用过几次VS2010,感觉确实很垃圾......之前看了下VS2013,感觉全新的界面看上去确实比VS2010看上去要好太多，所以就装了professional版的，因为微软对学生有免费使用的密匙，所以非常方便。VS2013确实做得也不错，启动速度、响应速度感觉上都要比VS2010好很多，而且VS的vim插件确实很棒，比eclipse上vim的插件好多了。(13的界面其实是一个很重要的的原因，向win8靠拢的metro风格，确实很赞!)
***

**1.如何读取一个`ply`文件？**



`ply`文件介绍：[**Wiki**](http://zh.wikipedia.org/wiki/PLY "ply")
斯坦福大学三维模型库: [**Data Archives**](http://www-graphics.stanford.edu/   "stanford")


根据自己对`ply`文件的理解，用`C++`写了一个简单的解析`ply`文件的方法:
用`C++`读取一个文件

		ifstream *file;
		char data(BUFFER); //每次读入一行数据，放在data缓冲区中
		file.open(filename,std::ios::in);   //打开一个文件，并且读取
		getline(data,BUFFER);    //每次读取一行数据到data中，然后再对data进行解析

用`C++`分割一个字符串,strtok_s()函数的使用

		char *result = NULL;   //用来存放被分割后符合要求的第一个字符串
		char *next = NULL;     //用来记录第分割后另一部分字符串，如果继续使用该函数，则会从next字符串中开始
		result = strtok(data,"key",&next);     //key可以是任意需要分割字符串的标识符号
		//如果需要解析出字符串中所有符合要求的子字符串，则继续调用如下
		result = strtok(NULL,"key",&next);      //这里有点不懂(mark)


`C++`中将一个字符串转为整型、浮点型

		int a = atoi(char *ch);    //将字符串转为整型
		float b = atol(char *ch);   //将字符串转为浮点型




**2.应该先画模型中的面**

在完成了`ply`文件的解析后，发现只有先进行模型面的绘制，然后再进行模型点的绘制，才会显示一个完整的立体的三维图形，如果顺序相反则会只看到一个平面被覆盖，并没有明显的图形样式；开始以为这样的`bug`是我数据解析时出了问题，但在多次测试数据解析后，并没有发现问题；最后在测试了单独进行点的加载，则会显示一个三维模型，最后更改了二者的加载顺序，问题解决，但还是没有理解这其中到底是什么原因，需要在查一下!


**3. ply文件中的点是从0开始的**

在最开始解析完数据并保存在数组中后，因为每次都是直接从1开始分析数组中点的数据，但加载出点模型总会感觉很别扭，最后发现是因为`ply`文件中的点是从0开始的，所以数组下表应该从0开始计数；原本一开始以为点会直接从1开始，就没有自习分析`ply`中是否有第0个点，但最后查了一下发现确实是从第0个点开始的。

**4.为什么数据加载好了，一切都没问题了，但是运行后确没有图像显示？**

很有可能是因为没有加载`setupRC()`函数，该函数中包括一些基本的`OpenGL`所需的初始化函数。


     
